2025-05-20 13:28:18,383 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 13:28:18,383 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 13:28:44,291 INFO: 198.19.249.3 - - [20/May/2025 13:28:44] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:28:44,316 INFO: 198.19.249.3 - - [20/May/2025 13:28:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 13:29:22,749 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 13:29:22,749 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 13:29:27,719 INFO: 198.19.249.3 - - [20/May/2025 13:29:27] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:29:27,740 INFO: 198.19.249.3 - - [20/May/2025 13:29:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 13:29:30,152 INFO: 198.19.249.3 - - [20/May/2025 13:29:30] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:35:24,767 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 13:35:24,767 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 13:35:54,445 INFO: 198.19.249.3 - - [20/May/2025 13:35:54] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:37:31,670 INFO: 198.19.249.3 - - [20/May/2025 13:37:31] "[31m[1mGET /casdoor-webhook HTTP/1.1[0m" 405 -
2025-05-20 13:37:48,434 INFO: 198.19.249.3 - - [20/May/2025 13:37:48] "[31m[1mGET /casdoor-webhook HTTP/1.1[0m" 405 -
2025-05-20 13:39:53,479 ERROR: 198.19.249.3 - - [20/May/2025 13:39:53] code 400, message Bad request version ('Ã€')
2025-05-20 13:39:53,483 INFO: 198.19.249.3 - - [20/May/2025 13:39:53] "[33mHEAD /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 13:39:53,483 INFO: 198.19.249.3 - - [20/May/2025 13:39:53] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-20 13:39:53,541 INFO: 198.19.249.3 - - [20/May/2025 13:39:53] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:39:53,564 INFO: 198.19.249.3 - - [20/May/2025 13:39:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 13:40:00,847 INFO: 198.19.249.3 - - [20/May/2025 13:40:00] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:40:10,674 INFO: 198.19.249.3 - - [20/May/2025 13:40:10] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:40:10,700 INFO: 198.19.249.3 - - [20/May/2025 13:40:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 13:40:14,298 INFO: 198.19.249.3 - - [20/May/2025 13:40:14] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-20 13:42:09,159 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 13:42:09,159 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 13:42:10,909 INFO: 198.19.249.3 - - [20/May/2025 13:42:10] "[31m[1mGET /casdoor-webhook HTTP/1.1[0m" 405 -
2025-05-20 13:42:11,486 INFO: 198.19.249.3 - - [20/May/2025 13:42:11] "[31m[1mGET /casdoor-webhook HTTP/1.1[0m" 405 -
2025-05-20 13:42:13,460 INFO: 198.19.249.3 - - [20/May/2025 13:42:13] "[31m[1mGET /casdoor-webhook HTTP/1.1[0m" 405 -
2025-05-20 13:42:55,044 WARNING: Confluence user not found: zhangsan
2025-05-20 13:42:55,045 INFO: 172.17.0.2 - - [20/May/2025 13:42:55] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 13:44:14,881 WARNING: Confluence user not found: testuser
2025-05-20 13:44:14,882 INFO: 127.0.0.1 - - [20/May/2025 13:44:14] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 13:45:49,422 WARNING: Confluence user not found: zhangsan
2025-05-20 13:45:49,423 INFO: 172.17.0.2 - - [20/May/2025 13:45:49] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 14:07:56,659 WARNING: Confluence user not found: zhangsan
2025-05-20 14:07:56,660 INFO: 172.17.0.2 - - [20/May/2025 14:07:56] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 14:08:15,859 WARNING: Confluence user not found: lisi
2025-05-20 14:08:15,860 INFO: 172.17.0.2 - - [20/May/2025 14:08:15] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 14:20:20,350 WARNING: Confluence user not found: lisi
2025-05-20 14:20:20,351 INFO: 172.17.0.2 - - [20/May/2025 14:20:20] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 14:20:33,763 WARNING: Confluence user not found: lisi
2025-05-20 14:20:33,764 INFO: 172.17.0.2 - - [20/May/2025 14:20:33] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 14:20:38,442 WARNING: Confluence user not found: lisi
2025-05-20 14:20:38,442 INFO: 172.17.0.2 - - [20/May/2025 14:20:38] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 14:22:11,332 ERROR: 198.19.249.3 - - [20/May/2025 14:22:11] code 400, message Bad request version ('Ã€')
2025-05-20 14:22:11,333 INFO: 198.19.249.3 - - [20/May/2025 14:22:11] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-20 14:22:11,336 INFO: 198.19.249.3 - - [20/May/2025 14:22:11] "[33mHEAD /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 14:22:11,353 INFO: 198.19.249.3 - - [20/May/2025 14:22:11] "[33mGET /login/oauth/authorize?scope=openid+profile+email+address+phone&response_type=code&redirect_uri=https://ubuntu-confluence.orb.local/plugins/servlet/oidc/callback&state=9DGS2vMKDVg32lnJQxUvWEQAO97wf8dBvbuAnmRO_2A&nonce=YYlw3xg98gFbkgCIf9kDHk1Rv5jp-0X6BC6Wa_tQ4yU&client_id=f5adba26cd9a899fa8a7 HTTP/1.1[0m" 404 -
2025-05-20 14:23:07,136 INFO: 198.19.249.3 - - [20/May/2025 14:23:07] "[33mGET /login/oauth/authorize?scope=openid+profile+email+address+phone&response_type=code&redirect_uri=https://ubuntu-confluence.orb.local/plugins/servlet/oidc/callback&state=XB3F9Wnh1T00RGiIIkDgBpZ5mYV7aNutAg5J9vTPamg&nonce=Fd-cyFgfus1KxBAoVdFe_J8bmOFkat0zFjmNuWJDMHY&client_id=f5adba26cd9a899fa8a7 HTTP/1.1[0m" 404 -
2025-05-20 14:23:09,040 INFO: 198.19.249.3 - - [20/May/2025 14:23:09] "[33mGET /login/oauth/authorize?scope=openid+profile+email+address+phone&response_type=code&redirect_uri=https://ubuntu-confluence.orb.local/plugins/servlet/oidc/callback&state=XB3F9Wnh1T00RGiIIkDgBpZ5mYV7aNutAg5J9vTPamg&nonce=Fd-cyFgfus1KxBAoVdFe_J8bmOFkat0zFjmNuWJDMHY&client_id=f5adba26cd9a899fa8a7 HTTP/1.1[0m" 404 -
2025-05-20 14:23:15,784 INFO: 198.19.249.3 - - [20/May/2025 14:23:15] "[33mGET /login/oauth/authorize?scope=openid+profile+email+address+phone&response_type=code&redirect_uri=https://ubuntu-confluence.orb.local/plugins/servlet/oidc/callback&state=XB3F9Wnh1T00RGiIIkDgBpZ5mYV7aNutAg5J9vTPamg&nonce=Fd-cyFgfus1KxBAoVdFe_J8bmOFkat0zFjmNuWJDMHY&client_id=f5adba26cd9a899fa8a7 HTTP/1.1[0m" 404 -
2025-05-20 14:23:19,982 INFO: 198.19.249.3 - - [20/May/2025 14:23:19] "[33mGET /login/oauth/authorize?scope=openid+profile+email+address+phone&response_type=code&redirect_uri=https://ubuntu-confluence.orb.local/plugins/servlet/oidc/callback&state=Sx6eUdBV9h4unHHuAMKDV7srVBKibvCQvvJIp_Cwsf0&nonce=9GiHIKjdtqwYkKsJdfY7gn3Pcc1NwviHUtzbanfYPfY&client_id=f5adba26cd9a899fa8a7 HTTP/1.1[0m" 404 -
2025-05-20 14:23:59,546 WARNING: Confluence user not found: lisi
2025-05-20 14:23:59,546 INFO: 172.17.0.2 - - [20/May/2025 14:23:59] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 14:28:08,043 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 14:28:08,043 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 14:28:42,719 WARNING: Confluence user not found: lisi
2025-05-20 14:28:42,720 INFO: 172.17.0.2 - - [20/May/2025 14:28:42] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 15:33:29,078 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 15:33:29,078 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 15:33:53,475 INFO: Confluence get_user status: 200, response: {"email":"iexi44@example.com","type":"known","username":"lisi","userKey":"2c92808296eb5f4a0196ec8fc0c00001","profilePicture":{"path":"/images/icons/profilepics/default.svg","width":48,"height":48,"isDefault":true},"displayName":"lisi","_links":{"base":"https://ubuntu-confluence.orb.local","context":"","self":"https://ubuntu-confluence.orb.local/rest/api/user?key=2c92808296eb5f4a0196ec8fc0c00001"},"_expandable":{"status":""}}
2025-05-20 15:33:53,476 ERROR: ConfluenceHandler error: 'ConfluenceHandler' object has no attribute 'auth'
Traceback (most recent call last):
  File "/opt/webhook/handlers/confluence_handler.py", line 76, in process
    self.enable_user(account_id)
  File "/opt/webhook/handlers/confluence_handler.py", line 39, in enable_user
    r = requests.post(url, json=data, auth=self.auth)
AttributeError: 'ConfluenceHandler' object has no attribute 'auth'
2025-05-20 15:33:53,476 INFO: 172.17.0.2 - - [20/May/2025 15:33:53] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 15:34:18,606 INFO: Confluence get_user status: 200, response: {"email":"iexi44@example.com","type":"known","username":"lisi","userKey":"2c92808296eb5f4a0196ec8fc0c00001","profilePicture":{"path":"/images/icons/profilepics/default.svg","width":48,"height":48,"isDefault":true},"displayName":"lisi","_links":{"base":"https://ubuntu-confluence.orb.local","context":"","self":"https://ubuntu-confluence.orb.local/rest/api/user?key=2c92808296eb5f4a0196ec8fc0c00001"},"_expandable":{"status":""}}
2025-05-20 15:34:18,606 ERROR: ConfluenceHandler error: 'ConfluenceHandler' object has no attribute 'auth'
Traceback (most recent call last):
  File "/opt/webhook/handlers/confluence_handler.py", line 74, in process
    self.disable_user(account_id)
  File "/opt/webhook/handlers/confluence_handler.py", line 29, in disable_user
    r = requests.delete(url, params=params, auth=self.auth)
AttributeError: 'ConfluenceHandler' object has no attribute 'auth'
2025-05-20 15:34:18,607 INFO: 172.17.0.2 - - [20/May/2025 15:34:18] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 15:36:17,415 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 15:36:17,415 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 15:36:27,123 INFO: Confluence get_user status: 200, response: {"email":"iexi44@example.com","type":"known","username":"lisi","userKey":"2c92808296eb5f4a0196ec8fc0c00001","profilePicture":{"path":"/images/icons/profilepics/default.svg","width":48,"height":48,"isDefault":true},"displayName":"lisi","_links":{"base":"https://ubuntu-confluence.orb.local","context":"","self":"https://ubuntu-confluence.orb.local/rest/api/user?key=2c92808296eb5f4a0196ec8fc0c00001"},"_expandable":{"status":""}}
2025-05-20 15:36:27,142 WARNING: Failed to add user back to group: 2c92808296eb5f4a0196ec8fc0c00001 (405)
2025-05-20 15:36:27,143 INFO: 172.17.0.2 - - [20/May/2025 15:36:27] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 15:36:43,930 INFO: Confluence get_user status: 200, response: {"email":"iexi44@example.com","type":"known","username":"lisi","userKey":"2c92808296eb5f4a0196ec8fc0c00001","profilePicture":{"path":"/images/icons/profilepics/default.svg","width":48,"height":48,"isDefault":true},"displayName":"lisi","_links":{"base":"https://ubuntu-confluence.orb.local","context":"","self":"https://ubuntu-confluence.orb.local/rest/api/user?key=2c92808296eb5f4a0196ec8fc0c00001"},"_expandable":{"status":""}}
2025-05-20 15:36:43,946 WARNING: Failed to remove user from group: 2c92808296eb5f4a0196ec8fc0c00001 (405)
2025-05-20 15:36:43,946 INFO: 172.17.0.2 - - [20/May/2025 15:36:43] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:35:25,574 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 16:35:25,574 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 16:35:51,228 ERROR: Failed to enable user 'lisi': 404 - {"message":"HTTP 404 Not Found","status-code":404,"sub-code":-1}
2025-05-20 16:35:51,229 INFO: 172.17.0.2 - - [20/May/2025 16:35:51] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:36:12,739 ERROR: Failed to disable user 'lisi': 404 - {"message":"HTTP 404 Not Found","status-code":404,"sub-code":-1}
2025-05-20 16:36:12,740 INFO: 172.17.0.2 - - [20/May/2025 16:36:12] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:36:28,430 ERROR: Failed to enable user 'lisi': 404 - {"message":"HTTP 404 Not Found","status-code":404,"sub-code":-1}
2025-05-20 16:36:28,430 INFO: 172.17.0.2 - - [20/May/2025 16:36:28] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:42:48,187 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 16:42:48,187 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 16:43:00,047 ERROR: Failed to disable user 'lisi': 404 - {"message":"HTTP 404 Not Found","status-code":404,"sub-code":-1}
2025-05-20 16:43:00,048 INFO: 172.17.0.2 - - [20/May/2025 16:43:00] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:49:52,199 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 16:49:52,199 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 16:50:03,125 INFO: User 'lisi' enabled successfully.
2025-05-20 16:50:03,125 INFO: 172.17.0.2 - - [20/May/2025 16:50:03] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:50:45,517 INFO: User 'lisi' disabled successfully.
2025-05-20 16:50:45,518 INFO: 172.17.0.2 - - [20/May/2025 16:50:45] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:51:22,157 ERROR: Failed to delete user 'lisi': 202 - {"id":"32418404-915d-4f11-824d-17d28fe847cb","links":{"status":"/rest/api/longtask/32418404-915d-4f11-824d-17d28fe847cb"},"statusPath":"/rest/api/longtask/32418404-915d-4f11-824d-17d28fe847cb"}
2025-05-20 16:51:22,158 INFO: 172.17.0.2 - - [20/May/2025 16:51:22] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:55:35,871 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 16:55:35,871 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 16:57:03,910 INFO: User 'lisi' disabled successfully.
2025-05-20 16:57:03,911 INFO: 172.17.0.2 - - [20/May/2025 16:57:03] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:57:35,839 INFO: User 'lisi' enabled successfully.
2025-05-20 16:57:35,842 INFO: 172.17.0.2 - - [20/May/2025 16:57:35] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:57:50,444 INFO: User 'lisi' disabled successfully.
2025-05-20 16:57:50,444 INFO: 172.17.0.2 - - [20/May/2025 16:57:50] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:57:58,634 INFO: User 'lisi' enabled successfully.
2025-05-20 16:57:58,635 INFO: 172.17.0.2 - - [20/May/2025 16:57:58] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 16:58:15,895 INFO: User 'lisi' deleted successfully.
2025-05-20 16:58:15,896 INFO: 172.17.0.2 - - [20/May/2025 16:58:15] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 18:45:36,495 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 18:45:36,496 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 18:46:14,236 INFO: Blocked GitLab user lisi
2025-05-20 18:46:14,422 ERROR: Exception while disabling user 'lisi': HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi/disable (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0xffff8385fe50>: Failed to establish a new connection: [Errno -2] Name or service not known'))
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
    conn = connection.create_connection(
  File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 61, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/usr/lib/python3.8/socket.py", line 918, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -2] Name or service not known

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 666, in urlopen
    httplib_response = self._make_request(
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 377, in _make_request
    self._validate_conn(conn)
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 1001, in _validate_conn
    conn.connect()
  File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 314, in connect
    conn = self._new_conn()
  File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.VerifiedHTTPSConnection object at 0xffff8385fe50>: Failed to establish a new connection: [Errno -2] Name or service not known

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
    resp = conn.urlopen(
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 720, in urlopen
    retries = retries.increment(
  File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 438, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi/disable (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0xffff8385fe50>: Failed to establish a new connection: [Errno -2] Name or service not known'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/webhook/handlers/confluence_handler.py", line 27, in disable_user
    response = requests.put(url, headers=self.headers)
  File "/usr/lib/python3/dist-packages/requests/api.py", line 131, in put
    return request('put', url, data=data, **kwargs)
  File "/usr/lib/python3/dist-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/lib/python3/dist-packages/requests/sessions.py", line 535, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/lib/python3/dist-packages/requests/sessions.py", line 648, in send
    r = adapter.send(request, **kwargs)
  File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi/disable (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0xffff8385fe50>: Failed to establish a new connection: [Errno -2] Name or service not known'))
2025-05-20 18:46:14,430 INFO: 172.17.0.2 - - [20/May/2025 18:46:14] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-20 18:47:28,862 ERROR: 198.19.249.3 - - [20/May/2025 18:47:28] code 400, message Bad request version ('Ã€')
2025-05-20 18:47:28,871 INFO: 198.19.249.3 - - [20/May/2025 18:47:28] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-20 18:47:28,870 INFO: 198.19.249.3 - - [20/May/2025 18:47:28] "[33mHEAD /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 18:47:28,895 ERROR: 198.19.249.3 - - [20/May/2025 18:47:28] code 400, message Bad request version ('Ã€')
2025-05-20 18:47:28,896 INFO: 198.19.249.3 - - [20/May/2025 18:47:28] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-20 18:47:28,921 INFO: 198.19.249.3 - - [20/May/2025 18:47:28] "[33mPOST /api/update-user?id=built-in/lisi HTTP/1.1[0m" 404 -
2025-05-20 18:51:38,986 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-20 18:51:38,986 INFO: [33mPress CTRL+C to quit[0m
2025-05-20 18:51:51,306 INFO: 198.19.249.3 - - [20/May/2025 18:51:51] "[33mHEAD /favicon.ico HTTP/1.1[0m" 404 -
2025-05-20 18:51:51,307 ERROR: 198.19.249.3 - - [20/May/2025 18:51:51] code 400, message Bad request version ('Ã€')
2025-05-20 18:51:51,307 INFO: 198.19.249.3 - - [20/May/2025 18:51:51] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-20 18:51:51,344 ERROR: 198.19.249.3 - - [20/May/2025 18:51:51] code 400, message Bad request version ('Ã€')
2025-05-20 18:51:51,345 INFO: 198.19.249.3 - - [20/May/2025 18:51:51] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-20 18:51:51,361 INFO: 198.19.249.3 - - [20/May/2025 18:51:51] "[33mPOST /api/update-user?id=built-in/lisi HTTP/1.1[0m" 404 -
2025-05-20 18:52:15,133 INFO: 198.19.249.3 - - [20/May/2025 18:52:15] "[33mPOST /api/update-user?id=built-in/lisi HTTP/1.1[0m" 404 -
2025-05-20 18:52:28,284 INFO: 198.19.249.3 - - [20/May/2025 18:52:28] "[33mPOST /api/update-user?id=built-in/lisi HTTP/1.1[0m" 404 -
2025-05-20 18:52:38,270 INFO: 198.19.249.3 - - [20/May/2025 18:52:38] "[33mPOST /api/update-user?id=built-in/lisi HTTP/1.1[0m" 404 -
2025-05-20 18:52:38,356 INFO: 198.19.249.3 - - [20/May/2025 18:52:38] "[33mPOST /api/update-user?id=built-in/lisi HTTP/1.1[0m" 404 -
2025-05-20 18:59:40,789 INFO: 198.19.249.3 - - [20/May/2025 18:59:40] "[33mPOST /api/update-user?id=built-in/lisi HTTP/1.1[0m" 404 -
2025-05-21 09:09:02,081 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-21 09:09:02,081 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 09:09:13,633 INFO: Blocked GitLab user lisi
2025-05-21 09:09:13,635 INFO: 172.17.0.2 - - [21/May/2025 09:09:13] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:09:42,903 INFO: Unblocked GitLab user lisi
2025-05-21 09:09:42,904 INFO: 172.17.0.2 - - [21/May/2025 09:09:42] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:10:17,109 INFO: Unblocked GitLab user lisi
2025-05-21 09:10:17,110 INFO: 172.17.0.2 - - [21/May/2025 09:10:17] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:10:49,899 INFO: Unblocked GitLab user lisi
2025-05-21 09:10:49,900 INFO: 172.17.0.2 - - [21/May/2025 09:10:49] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:10:51,764 INFO: Unblocked GitLab user lisi
2025-05-21 09:10:51,764 INFO: 172.17.0.2 - - [21/May/2025 09:10:51] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:10:53,539 INFO: Unblocked GitLab user lisi
2025-05-21 09:10:53,539 INFO: 172.17.0.2 - - [21/May/2025 09:10:53] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:10:54,941 INFO: Unblocked GitLab user lisi
2025-05-21 09:10:54,942 INFO: 172.17.0.2 - - [21/May/2025 09:10:54] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:10:55,125 INFO: Unblocked GitLab user lisi
2025-05-21 09:10:55,126 INFO: 172.17.0.2 - - [21/May/2025 09:10:55] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:03,175 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:03,176 INFO: 172.17.0.2 - - [21/May/2025 09:11:03] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:05,255 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:05,257 INFO: 172.17.0.2 - - [21/May/2025 09:11:05] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:05,321 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:05,321 INFO: 172.17.0.2 - - [21/May/2025 09:11:05] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:05,560 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:05,566 INFO: 172.17.0.2 - - [21/May/2025 09:11:05] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:05,648 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:05,649 INFO: 172.17.0.2 - - [21/May/2025 09:11:05] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:05,783 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:05,784 INFO: 172.17.0.2 - - [21/May/2025 09:11:05] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:05,840 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:05,841 INFO: 172.17.0.2 - - [21/May/2025 09:11:05] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:05,923 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:05,923 INFO: 172.17.0.2 - - [21/May/2025 09:11:05] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:06,094 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:06,094 INFO: 172.17.0.2 - - [21/May/2025 09:11:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:06,162 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:06,163 INFO: 172.17.0.2 - - [21/May/2025 09:11:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:06,373 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:06,374 INFO: 172.17.0.2 - - [21/May/2025 09:11:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:06,449 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:06,449 INFO: 172.17.0.2 - - [21/May/2025 09:11:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:06,596 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:06,597 INFO: 172.17.0.2 - - [21/May/2025 09:11:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:06,757 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:06,757 INFO: 172.17.0.2 - - [21/May/2025 09:11:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:16,116 INFO: Blocked GitLab user lisi
2025-05-21 09:11:16,117 INFO: 172.17.0.2 - - [21/May/2025 09:11:16] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:17,585 INFO: Blocked GitLab user lisi
2025-05-21 09:11:17,586 INFO: 172.17.0.2 - - [21/May/2025 09:11:17] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:17,657 INFO: Blocked GitLab user lisi
2025-05-21 09:11:17,657 INFO: 172.17.0.2 - - [21/May/2025 09:11:17] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:17,832 INFO: Blocked GitLab user lisi
2025-05-21 09:11:17,832 INFO: 172.17.0.2 - - [21/May/2025 09:11:17] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:18,700 INFO: Blocked GitLab user lisi
2025-05-21 09:11:18,700 INFO: 172.17.0.2 - - [21/May/2025 09:11:18] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:18,741 INFO: Blocked GitLab user lisi
2025-05-21 09:11:18,741 INFO: 172.17.0.2 - - [21/May/2025 09:11:18] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:18,980 INFO: Blocked GitLab user lisi
2025-05-21 09:11:18,980 INFO: 172.17.0.2 - - [21/May/2025 09:11:18] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:22,102 INFO: Blocked GitLab user lisi
2025-05-21 09:11:22,102 INFO: 172.17.0.2 - - [21/May/2025 09:11:22] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:11:44,619 INFO: Unblocked GitLab user lisi
2025-05-21 09:11:44,623 INFO: 172.17.0.2 - - [21/May/2025 09:11:44] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:12:09,621 INFO: GitLab user delete status: 204
2025-05-21 09:12:09,622 INFO: 172.17.0.2 - - [21/May/2025 09:12:09] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:29:27,596 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-21 09:29:27,597 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 09:30:05,882 ERROR: 198.19.249.3 - - [21/May/2025 09:30:05] code 400, message Bad request version ('Ã€')
2025-05-21 09:30:05,883 INFO: 198.19.249.3 - - [21/May/2025 09:30:05] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-21 09:30:05,891 INFO: 198.19.249.3 - - [21/May/2025 09:30:05] "[33mHEAD /favicon.ico HTTP/1.1[0m" 404 -
2025-05-21 09:30:05,895 ERROR: 198.19.249.3 - - [21/May/2025 09:30:05] code 400, message Bad request version ('Ã€')
2025-05-21 09:30:05,896 INFO: 198.19.249.3 - - [21/May/2025 09:30:05] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-21 09:30:05,956 ERROR: 198.19.249.3 - - [21/May/2025 09:30:05] code 400, message Bad request version ('Ã€')
2025-05-21 09:30:05,956 INFO: 198.19.249.3 - - [21/May/2025 09:30:05] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-21 09:30:06,015 INFO: 198.19.249.3 - - [21/May/2025 09:30:06] "[33mPOST /api/add-user HTTP/1.1[0m" 404 -
2025-05-21 09:30:11,855 INFO: 198.19.249.3 - - [21/May/2025 09:30:11] "[33mPOST /api/add-user HTTP/1.1[0m" 404 -
2025-05-21 09:30:30,185 INFO: 198.19.249.3 - - [21/May/2025 09:30:30] "[33mGET /users HTTP/1.1[0m" 404 -
2025-05-21 09:30:42,180 INFO: 198.19.249.3 - - [21/May/2025 09:30:42] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-21 09:31:46,477 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.103:5000
2025-05-21 09:31:46,477 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 09:31:49,191 ERROR: 198.19.249.3 - - [21/May/2025 09:31:49] code 400, message Bad request version ('Ã€')
2025-05-21 09:31:49,191 INFO: 198.19.249.3 - - [21/May/2025 09:31:49] "[35m[1m\x16\x03\x01\x00Ã«\x01\x00\x00Ã§\x03\x03 OrbStack server detection. More at: https://orbsta.cc/srvdetect \x00,\x13\x01\x13\x02\x13\x03Ã€+Ã€,ÃŒÂ©Ã€/Ã€0ÃŒÂ¨\x00/\x005\x00\x9c\x00\x9dÃ€\x09Ã€[0m" HTTPStatus.BAD_REQUEST -
2025-05-21 09:31:49,199 INFO: 198.19.249.3 - - [21/May/2025 09:31:49] "[33mHEAD /favicon.ico HTTP/1.1[0m" 404 -
2025-05-21 09:31:49,208 INFO: 198.19.249.3 - - [21/May/2025 09:31:49] "[33mPOST /api/add-user HTTP/1.1[0m" 404 -
2025-05-21 09:32:09,022 INFO: 198.19.249.3 - - [21/May/2025 09:32:09] "[33mGET /users HTTP/1.1[0m" 404 -
2025-05-21 09:32:14,978 INFO: 198.19.249.3 - - [21/May/2025 09:32:14] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-21 09:45:01,245 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 09:45:01,245 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 09:46:35,863 WARNING: GitLab user not found: lisi
2025-05-21 09:46:35,864 INFO: 198.19.249.103 - - [21/May/2025 09:46:35] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:47:49,254 INFO: GitLab user 'lisi' blocked successfully.
2025-05-21 09:47:49,255 INFO: 198.19.249.103 - - [21/May/2025 09:47:49] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:48:34,581 INFO: GitLab user 'lisi' blocked successfully.
2025-05-21 09:48:34,582 INFO: 198.19.249.103 - - [21/May/2025 09:48:34] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:48:52,276 INFO: GitLab user 'lisi' unblocked successfully.
2025-05-21 09:48:52,276 INFO: 198.19.249.103 - - [21/May/2025 09:48:52] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 09:49:48,609 INFO: GitLab user 'lisi' deleted successfully.
2025-05-21 09:49:48,610 INFO: 198.19.249.103 - - [21/May/2025 09:49:48] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:09:20,600 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 17:09:20,601 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 17:10:07,644 WARNING: GitLab user not found: lisi
2025-05-21 17:10:07,644 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:10:07,645 INFO: 198.19.249.103 - - [21/May/2025 17:10:07] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:10:07,841 WARNING: GitLab user not found: lisi
2025-05-21 17:10:07,842 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:10:07,842 INFO: 198.19.249.103 - - [21/May/2025 17:10:07] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:10:23,179 WARNING: GitLab user not found: lisi
2025-05-21 17:10:23,179 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:10:23,180 INFO: 198.19.249.103 - - [21/May/2025 17:10:23] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:10:35,860 WARNING: GitLab user not found: lisi
2025-05-21 17:10:36,026 ERROR: Failed to delete Zentao user 'b52f43cd-5692-4fae-808a-30f31a958530': 404 - {"error":"404 Not found"}
2025-05-21 17:10:36,027 INFO: 198.19.249.103 - - [21/May/2025 17:10:36] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:34:05,754 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 17:34:05,755 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 17:34:19,573 WARNING: GitLab user not found: lisi
2025-05-21 17:34:20,212 INFO: Zentao user '2' deleted successfully.
2025-05-21 17:34:20,213 INFO: 198.19.249.103 - - [21/May/2025 17:34:20] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:46:46,611 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 17:46:46,612 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 17:47:12,475 WARNING: GitLab user not found: lisi
2025-05-21 17:47:12,476 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:47:12,477 INFO: 198.19.249.103 - - [21/May/2025 17:47:12] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:47:19,900 WARNING: GitLab user not found: lisi
2025-05-21 17:47:19,900 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:47:19,900 INFO: 198.19.249.103 - - [21/May/2025 17:47:19] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:47:32,579 WARNING: GitLab user not found: lisi
2025-05-21 17:47:33,825 INFO: Zentao user 'lisi' deleted successfully.
2025-05-21 17:47:33,826 INFO: 198.19.249.103 - - [21/May/2025 17:47:33] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:48:12,290 WARNING: GitLab user not found: lisi
2025-05-21 17:48:12,291 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:48:12,292 INFO: 198.19.249.103 - - [21/May/2025 17:48:12] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:48:31,000 WARNING: GitLab user not found: lisi
2025-05-21 17:48:31,000 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:48:31,001 INFO: 198.19.249.103 - - [21/May/2025 17:48:31] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:48:42,144 WARNING: GitLab user not found: lisi
2025-05-21 17:48:42,295 INFO: Zentao user 'lisi' deleted successfully.
2025-05-21 17:48:42,295 INFO: 198.19.249.103 - - [21/May/2025 17:48:42] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:49:06,388 WARNING: GitLab user not found: lisi01
2025-05-21 17:49:06,389 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:49:06,392 INFO: 198.19.249.103 - - [21/May/2025 17:49:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:49:17,422 WARNING: GitLab user not found: lisi01
2025-05-21 17:49:17,422 INFO: ZentaoHandler only handles delete-user action.
2025-05-21 17:49:17,423 INFO: 198.19.249.103 - - [21/May/2025 17:49:17] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:49:20,170 WARNING: GitLab user not found: lisi01
2025-05-21 17:49:20,224 ERROR: Failed to get Zentao user 'lisi01': 404 - {"error":"404 Not found"}
2025-05-21 17:49:20,224 INFO: 198.19.249.103 - - [21/May/2025 17:49:20] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:52:47,691 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 17:52:47,691 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 17:53:13,689 WARNING: GitLab user not found: user_svk855
2025-05-21 17:53:13,689 INFO: ZentaoHandler does not handle action: update-user
2025-05-21 17:53:13,691 INFO: 198.19.249.103 - - [21/May/2025 17:53:13] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:53:19,149 WARNING: GitLab user not found: user_svk855
2025-05-21 17:53:19,149 INFO: ZentaoHandler does not handle action: update-user
2025-05-21 17:53:19,149 INFO: 198.19.249.103 - - [21/May/2025 17:53:19] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:53:30,193 WARNING: GitLab user not found: user_svk855
2025-05-21 17:53:30,194 INFO: ZentaoHandler does not handle action: update-user
2025-05-21 17:53:30,195 INFO: 198.19.249.103 - - [21/May/2025 17:53:30] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:53:33,727 WARNING: GitLab user not found: user_svk855
2025-05-21 17:53:34,192 ERROR: Failed to get Zentao user 'user_svk855': 404 - {"error":"404 Not found"}
2025-05-21 17:53:34,192 INFO: 198.19.249.103 - - [21/May/2025 17:53:34] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:57:32,030 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 17:57:32,030 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 17:58:10,197 WARNING: GitLab user not found: lisi
2025-05-21 17:58:10,197 INFO: ZentaoHandler does not handle action: update-user
2025-05-21 17:58:10,198 INFO: 198.19.249.103 - - [21/May/2025 17:58:10] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:58:25,186 WARNING: GitLab user not found: lisi
2025-05-21 17:58:25,187 INFO: ZentaoHandler does not handle action: update-user
2025-05-21 17:58:25,188 INFO: 198.19.249.103 - - [21/May/2025 17:58:25] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 17:58:30,587 WARNING: GitLab user not found: lisi
2025-05-21 17:58:30,945 INFO: Zentao user 'lisi' deleted successfully.
2025-05-21 17:58:30,946 INFO: 198.19.249.103 - - [21/May/2025 17:58:30] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-21 18:51:04,721 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 18:51:04,721 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 18:52:37,663 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 18:52:37,663 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 18:52:50,096 INFO: 198.19.249.103 - - [21/May/2025 18:52:50] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:53:13,259 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 18:53:13,259 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 18:53:17,297 INFO: 198.19.249.103 - - [21/May/2025 18:53:17] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:53:19,124 INFO: 198.19.249.103 - - [21/May/2025 18:53:19] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:54:06,091 INFO: 198.19.249.103 - - [21/May/2025 18:54:06] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:54:15,165 INFO: 198.19.249.103 - - [21/May/2025 18:54:15] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:54:20,860 INFO: 198.19.249.103 - - [21/May/2025 18:54:20] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:54:29,652 INFO: 198.19.249.103 - - [21/May/2025 18:54:29] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:58:45,828 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-21 18:58:45,828 INFO: [33mPress CTRL+C to quit[0m
2025-05-21 18:58:54,076 INFO: 198.19.249.103 - - [21/May/2025 18:58:54] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:59:01,562 INFO: 198.19.249.103 - - [21/May/2025 18:59:01] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:59:06,804 INFO: 198.19.249.103 - - [21/May/2025 18:59:06] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:59:08,617 INFO: 198.19.249.103 - - [21/May/2025 18:59:08] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-21 18:59:11,919 INFO: 198.19.249.103 - - [21/May/2025 18:59:11] "[33mPOST /casdoor-webhook HTTP/1.1[0m" 404 -
2025-05-22 08:42:16,024 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-22 08:42:16,026 INFO: [33mPress CTRL+C to quit[0m
2025-05-22 08:42:22,921 ERROR: Handler error: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "app.py", line 27, in webhook
    handler.process(action, user_obj)
  File "/opt/casdoor-webhook/handlers/confluence_handler.py", line 47, in process
    username = user_obj.get("name")
AttributeError: 'str' object has no attribute 'get'
2025-05-22 08:42:22,924 ERROR: Handler error: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "app.py", line 27, in webhook
    handler.process(action, user_obj)
  File "/opt/casdoor-webhook/handlers/zentao_handler.py", line 42, in process
    username = user_obj.get("name") or user_obj.get("username")
AttributeError: 'str' object has no attribute 'get'
2025-05-22 08:42:22,927 INFO: 198.19.249.103 - - [22/May/2025 08:42:22] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 08:42:54,133 ERROR: Handler error: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "app.py", line 27, in webhook
    handler.process(action, user_obj)
  File "/opt/casdoor-webhook/handlers/confluence_handler.py", line 47, in process
    username = user_obj.get("name")
AttributeError: 'str' object has no attribute 'get'
2025-05-22 08:42:54,134 ERROR: Handler error: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "app.py", line 27, in webhook
    handler.process(action, user_obj)
  File "/opt/casdoor-webhook/handlers/zentao_handler.py", line 42, in process
    username = user_obj.get("name") or user_obj.get("username")
AttributeError: 'str' object has no attribute 'get'
2025-05-22 08:42:54,135 INFO: 198.19.249.103 - - [22/May/2025 08:42:54] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 08:43:12,028 ERROR: Handler error: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "app.py", line 27, in webhook
    handler.process(action, user_obj)
  File "/opt/casdoor-webhook/handlers/confluence_handler.py", line 47, in process
    username = user_obj.get("name")
AttributeError: 'str' object has no attribute 'get'
2025-05-22 08:43:12,029 ERROR: Handler error: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "app.py", line 27, in webhook
    handler.process(action, user_obj)
  File "/opt/casdoor-webhook/handlers/zentao_handler.py", line 42, in process
    username = user_obj.get("name") or user_obj.get("username")
AttributeError: 'str' object has no attribute 'get'
2025-05-22 08:43:12,030 INFO: 198.19.249.103 - - [22/May/2025 08:43:12] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 08:57:53,400 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-22 08:57:53,400 INFO: [33mPress CTRL+C to quit[0m
2025-05-22 08:58:00,898 ERROR: Failed to enable user 'user_191b2m': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :user_191b2m","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 08:58:00,898 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 08:58:00,900 INFO: 198.19.249.103 - - [22/May/2025 08:58:00] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 08:59:19,519 ERROR: Failed to enable user 'user_191b2m': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :user_191b2m","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 08:59:19,520 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 08:59:19,522 INFO: 198.19.249.103 - - [22/May/2025 08:59:19] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 08:59:34,663 ERROR: Failed to disable user 'user_191b2m': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :user_191b2m","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 08:59:34,664 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 08:59:34,665 INFO: 198.19.249.103 - - [22/May/2025 08:59:34] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:00:07,273 ERROR: Failed to delete user 'user_191b2m': 404 - {"statusCode":404,"data":{"authorized":false,"valid":true,"allowedInReadOnlyMode":true,"errors":[],"successful":false},"reason":"Not Found"}
2025-05-22 09:00:07,846 ERROR: Failed to get Zentao user 'user_191b2m': 404 - {"error":"404 Not found"}
2025-05-22 09:00:07,847 INFO: 198.19.249.103 - - [22/May/2025 09:00:07] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:00:55,488 ERROR: Failed to enable user 'lisi': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :lisi","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 09:00:55,488 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:00:55,489 INFO: 198.19.249.103 - - [22/May/2025 09:00:55] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:00:55,495 ERROR: Failed to enable user 'lisi': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :lisi","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 09:00:55,495 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:00:55,495 INFO: 198.19.249.103 - - [22/May/2025 09:00:55] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:01:22,275 ERROR: Failed to enable user 'lisi': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :lisi","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 09:01:22,276 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:01:22,278 INFO: 198.19.249.103 - - [22/May/2025 09:01:22] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:01:23,796 ERROR: Failed to delete user 'lisi': 404 - {"statusCode":404,"data":{"authorized":false,"valid":true,"allowedInReadOnlyMode":true,"errors":[],"successful":false},"reason":"Not Found"}
2025-05-22 09:01:24,627 INFO: Zentao user 'lisi' deleted successfully.
2025-05-22 09:01:24,627 INFO: 198.19.249.103 - - [22/May/2025 09:01:24] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:04:25,790 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-22 09:04:25,790 INFO: [33mPress CTRL+C to quit[0m
2025-05-22 09:04:33,326 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:04:33,327 INFO: 198.19.249.103 - - [22/May/2025 09:04:33] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:06:16,388 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:06:16,390 INFO: 198.19.249.103 - - [22/May/2025 09:06:16] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:06:32,171 INFO: Zentao user 'lisi' deleted successfully.
2025-05-22 09:06:32,172 INFO: 198.19.249.103 - - [22/May/2025 09:06:32] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:25:20,349 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-22 09:25:20,350 INFO: [33mPress CTRL+C to quit[0m
2025-05-22 09:28:04,187 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-22 09:28:04,187 INFO: [33mPress CTRL+C to quit[0m
2025-05-22 09:28:16,309 ERROR: Failed to enable Confluence user 'lisi': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :lisi","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 09:28:17,549 WARNING: GitLab user not found: lisi
2025-05-22 09:28:17,549 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:28:17,550 INFO: 198.19.249.103 - - [22/May/2025 09:28:17] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:29:06,802 ERROR: Failed to enable Confluence user 'lisi': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :lisi","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-22 09:29:07,993 WARNING: GitLab user not found: lisi
2025-05-22 09:29:07,994 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:29:07,995 INFO: 198.19.249.103 - - [22/May/2025 09:29:07] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:35:19,496 INFO: Confluence User 'lisi' disabled successfully.
2025-05-22 09:35:19,501 INFO: Confluence User 'lisi' disabled successfully.
2025-05-22 09:35:21,049 INFO: GitLab user 'lisi' blocked successfully.
2025-05-22 09:35:21,050 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:35:21,053 INFO: 198.19.249.103 - - [22/May/2025 09:35:21] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:35:21,064 INFO: GitLab user 'lisi' blocked successfully.
2025-05-22 09:35:21,064 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:35:21,064 INFO: 198.19.249.103 - - [22/May/2025 09:35:21] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:36:27,500 INFO: Confluence user 'lisi' enabled successfully.
2025-05-22 09:36:28,521 INFO: GitLab user 'lisi' unblocked successfully.
2025-05-22 09:36:28,522 INFO: ZentaoHandler does not handle action: update-user
2025-05-22 09:36:28,523 INFO: 198.19.249.103 - - [22/May/2025 09:36:28] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-22 09:38:12,384 INFO: Confluence user 'lisi' deleted successfully.
2025-05-22 09:38:14,025 INFO: GitLab user 'lisi' deleted successfully.
2025-05-22 09:38:14,842 INFO: Zentao user 'lisi' deleted successfully.
2025-05-22 09:38:14,850 INFO: 198.19.249.103 - - [22/May/2025 09:38:14] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-23 18:33:01,621 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-23 18:33:01,622 INFO: [33mPress CTRL+C to quit[0m
2025-05-23 18:33:33,453 INFO: ZentaoHandler does not handle action: update-user
2025-05-23 18:33:33,455 INFO: 198.19.249.103 - - [23/May/2025 18:33:33] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-23 18:35:37,221 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-23 18:35:37,221 INFO: [33mPress CTRL+C to quit[0m
2025-05-23 18:35:44,041 INFO: ZentaoHandler does not handle action: update-user
2025-05-23 18:35:44,042 INFO: GrafanaHandler only handles delete-user action.
2025-05-23 18:35:44,042 INFO: 198.19.249.103 - - [23/May/2025 18:35:44] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-23 18:36:33,159 INFO: ZentaoHandler does not handle action: update-user
2025-05-23 18:36:33,159 INFO: GrafanaHandler only handles delete-user action.
2025-05-23 18:36:33,160 INFO: 198.19.249.103 - - [23/May/2025 18:36:33] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-23 18:36:45,420 ERROR: Failed to get Zentao user 'test': 404 - {"error":"404 Not found"}
2025-05-23 18:36:45,444 ERROR: Failed to delete Grafana user 'e5847a7b-c079-45c0-813b-79bd8c3fac9d': 404 - {"message":"User not found"}

2025-05-23 18:36:45,444 INFO: 198.19.249.103 - - [23/May/2025 18:36:45] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-23 18:43:13,375 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-23 18:43:13,375 INFO: [33mPress CTRL+C to quit[0m
2025-05-23 18:43:29,526 INFO: ZentaoHandler does not handle action: update-user
2025-05-23 18:43:29,526 INFO: GrafanaHandler only handles delete-user action.
2025-05-23 18:43:29,527 INFO: 198.19.249.103 - - [23/May/2025 18:43:29] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-23 18:43:36,594 ERROR: Failed to get Zentao user 'test': 404 - {"error":"404 Not found"}
2025-05-23 18:43:36,640 ERROR: Failed to lookup Grafana user 'test': 403 - {"accessErrorId":"ACE7999114541","message":"You'll need additional permissions to perform this action. Permissions needed: users:read","title":"Access denied"}

2025-05-23 18:43:36,641 INFO: 198.19.249.103 - - [23/May/2025 18:43:36] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 09:59:53,173 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-24 09:59:53,174 INFO: [33mPress CTRL+C to quit[0m
2025-05-24 10:00:24,800 INFO: ZentaoHandler does not handle action: update-user
2025-05-24 10:00:24,800 INFO: GrafanaHandler only handles delete-user action.
2025-05-24 10:00:24,801 INFO: 198.19.249.103 - - [24/May/2025 10:00:24] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 10:00:28,699 INFO: ZentaoHandler does not handle action: update-user
2025-05-24 10:00:28,699 INFO: GrafanaHandler only handles delete-user action.
2025-05-24 10:00:28,704 INFO: 198.19.249.103 - - [24/May/2025 10:00:28] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 10:00:32,897 ERROR: Failed to get Zentao user 'test': 401 - {"error":"Unauthorized"}
2025-05-24 10:00:33,031 INFO: Grafana user 'test' deleted successfully.
2025-05-24 10:00:33,031 INFO: 198.19.249.103 - - [24/May/2025 10:00:33] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 10:21:10,141 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-24 10:21:10,141 INFO: [33mPress CTRL+C to quit[0m
2025-05-24 10:22:41,798 INFO: Confluence User 'dev01' disabled successfully.
2025-05-24 10:22:44,453 INFO: GitLab user 'dev01' blocked successfully.
2025-05-24 10:22:44,453 INFO: ZentaoHandler does not handle action: update-user
2025-05-24 10:22:44,453 INFO: GrafanaHandler only handles delete-user action.
2025-05-24 10:22:44,455 INFO: 198.19.249.103 - - [24/May/2025 10:22:44] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 10:27:32,459 INFO: Confluence user 'dev01' deleted successfully.
2025-05-24 10:27:33,959 INFO: GitLab user 'dev01' deleted successfully.
2025-05-24 10:27:34,103 ERROR: Failed to get Zentao user 'dev01': 401 - {"error":"Unauthorized"}
2025-05-24 10:27:34,594 INFO: Grafana user 'dev01' deleted successfully.
2025-05-24 10:27:34,604 INFO: 198.19.249.103 - - [24/May/2025 10:27:34] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 11:05:13,945 INFO: Successfully retrieved Zentao token.
2025-05-24 11:05:13,949 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-24 11:05:13,949 INFO: [33mPress CTRL+C to quit[0m
2025-05-24 11:05:35,372 INFO: Confluence User 'dev01' disabled successfully.
2025-05-24 11:05:37,496 INFO: GitLab user 'dev01' blocked successfully.
2025-05-24 11:05:37,497 INFO: ZentaoHandler does not handle action: update-user
2025-05-24 11:05:37,497 INFO: GrafanaHandler only handles delete-user action.
2025-05-24 11:05:37,498 INFO: 198.19.249.103 - - [24/May/2025 11:05:37] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 11:05:50,008 INFO: Confluence user 'dev01' deleted successfully.
2025-05-24 11:05:52,086 INFO: GitLab user 'dev01' deleted successfully.
2025-05-24 11:05:52,912 INFO: Zentao user 'dev01' deleted successfully.
2025-05-24 11:05:53,086 INFO: Grafana user 'dev01' deleted successfully.
2025-05-24 11:05:53,088 INFO: 198.19.249.103 - - [24/May/2025 11:05:53] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 11:07:47,836 INFO: Successfully retrieved Zentao token.
2025-05-24 11:07:47,838 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.19.249.107:5000
2025-05-24 11:07:47,839 INFO: [33mPress CTRL+C to quit[0m
2025-05-24 11:35:23,800 ERROR: Failed to delete Confluence user 'lisi': 404 - {"statusCode":404,"data":{"authorized":false,"valid":true,"allowedInReadOnlyMode":true,"errors":[],"successful":false},"reason":"Not Found"}
2025-05-24 11:35:25,310 WARNING: GitLab user not found: lisi
2025-05-24 11:35:26,623 INFO: Zentao user 'lisi' deleted successfully.
2025-05-24 11:35:26,748 WARNING: Grafana user 'lisi' not found.
2025-05-24 11:35:26,752 INFO: 198.19.249.103 - - [24/May/2025 11:35:26] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 11:36:19,318 ERROR: Failed to enable Confluence user 'lisi': 404 - {"statusCode":404,"data":{"authorized":true,"valid":false,"allowedInReadOnlyMode":true,"errors":[{"message":{"key":"User not found :lisi","args":[]}}],"successful":false},"reason":"Not Found"}
2025-05-24 11:36:20,306 WARNING: GitLab user not found: lisi
2025-05-24 11:36:20,306 INFO: ZentaoHandler does not handle action: update-user
2025-05-24 11:36:20,306 INFO: GrafanaHandler only handles delete-user action.
2025-05-24 11:36:20,307 INFO: 198.19.249.103 - - [24/May/2025 11:36:20] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 13:11:05,198 ERROR: Failed to delete Confluence user 'lisi': 404 - {"statusCode":404,"data":{"authorized":false,"valid":true,"allowedInReadOnlyMode":true,"errors":[],"successful":false},"reason":"Not Found"}
2025-05-24 13:11:06,434 WARNING: GitLab user not found: lisi
2025-05-24 13:11:06,785 INFO: Zentao user 'lisi' deleted successfully.
2025-05-24 13:11:06,990 WARNING: Grafana user 'lisi' not found.
2025-05-24 13:11:06,994 INFO: 198.19.249.103 - - [24/May/2025 13:11:06] "POST /casdoor-webhook HTTP/1.1" 200 -
2025-05-24 06:47:45,826 ERROR: Failed to get token from Zentao: HTTPSConnectionPool(host='ubuntu-zentao.orb.local', port=443): Max retries exceeded with url: /zentao/api.php/v1/tokens (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 466, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 1095, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 730, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 909, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
  File "/usr/local/lib/python3.8/ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
  File "/usr/local/lib/python3.8/ssl.py", line 1073, in _create
    self.do_handshake()
  File "/usr/local/lib/python3.8/ssl.py", line 1342, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
    response = self._make_request(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 490, in _make_request
    raise new_e
urllib3.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='ubuntu-zentao.orb.local', port=443): Max retries exceeded with url: /zentao/api.php/v1/tokens (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/handlers/zentao_handler.py", line 17, in get_token
    response = requests.post(url, json=payload, timeout=10)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='ubuntu-zentao.orb.local', port=443): Max retries exceeded with url: /zentao/api.php/v1/tokens (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
2025-05-24 06:54:08,828 ERROR: Exception while enabling Confluence user 'lisi': HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi/enable (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 466, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 1095, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 730, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 909, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
  File "/usr/local/lib/python3.8/ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
  File "/usr/local/lib/python3.8/ssl.py", line 1073, in _create
    self.do_handshake()
  File "/usr/local/lib/python3.8/ssl.py", line 1342, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
    response = self._make_request(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 490, in _make_request
    raise new_e
urllib3.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi/enable (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/handlers/confluence_handler.py", line 38, in enable_user
    response = requests.put(url, headers=self.headers)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 130, in put
    return request("put", url, data=data, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi/enable (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
2025-05-24 06:54:08,993 ERROR: Error retrieving GitLab user ID for 'lisi': HTTPSConnectionPool(host='ubuntu-gitlab.orb.local', port=443): Max retries exceeded with url: /api/v4/users?search=lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 466, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 1095, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 730, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 909, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
  File "/usr/local/lib/python3.8/ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
  File "/usr/local/lib/python3.8/ssl.py", line 1073, in _create
    self.do_handshake()
  File "/usr/local/lib/python3.8/ssl.py", line 1342, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
    response = self._make_request(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 490, in _make_request
    raise new_e
urllib3.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='ubuntu-gitlab.orb.local', port=443): Max retries exceeded with url: /api/v4/users?search=lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/handlers/gitlab_handler.py", line 12, in get_user_id
    response = requests.get(
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='ubuntu-gitlab.orb.local', port=443): Max retries exceeded with url: /api/v4/users?search=lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
2025-05-24 06:54:08,994 INFO: ZentaoHandler does not handle action: update-user
2025-05-24 06:54:08,994 INFO: GrafanaHandler only handles delete-user action.
2025-05-24 07:00:09,324 ERROR: Exception while deleting Confluence user 'lisi': HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 466, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 1095, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 730, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 909, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
  File "/usr/local/lib/python3.8/ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
  File "/usr/local/lib/python3.8/ssl.py", line 1073, in _create
    self.do_handshake()
  File "/usr/local/lib/python3.8/ssl.py", line 1342, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
    response = self._make_request(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 490, in _make_request
    raise new_e
urllib3.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/handlers/confluence_handler.py", line 16, in delete_user
    response = requests.delete(url, headers=self.headers)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 157, in delete
    return request("delete", url, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='ubuntu-confluence.orb.local', port=443): Max retries exceeded with url: /rest/api/admin/user/lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
2025-05-24 07:00:09,524 ERROR: Error retrieving GitLab user ID for 'lisi': HTTPSConnectionPool(host='ubuntu-gitlab.orb.local', port=443): Max retries exceeded with url: /api/v4/users?search=lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 466, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 1095, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 730, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 909, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
  File "/usr/local/lib/python3.8/ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
  File "/usr/local/lib/python3.8/ssl.py", line 1073, in _create
    self.do_handshake()
  File "/usr/local/lib/python3.8/ssl.py", line 1342, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
    response = self._make_request(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 490, in _make_request
    raise new_e
urllib3.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='ubuntu-gitlab.orb.local', port=443): Max retries exceeded with url: /api/v4/users?search=lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/handlers/gitlab_handler.py", line 12, in get_user_id
    response = requests.get(
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='ubuntu-gitlab.orb.local', port=443): Max retries exceeded with url: /api/v4/users?search=lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
2025-05-24 07:00:09,975 ERROR: Error retrieving Zentao user 'lisi': HTTPSConnectionPool(host='ubuntu-zentao.orb.local', port=443): Max retries exceeded with url: /zentao/api.php/v1/users/lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 466, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 1095, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 730, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connection.py", line 909, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
  File "/usr/local/lib/python3.8/ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
  File "/usr/local/lib/python3.8/ssl.py", line 1073, in _create
    self.do_handshake()
  File "/usr/local/lib/python3.8/ssl.py", line 1342, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
    response = self._make_request(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 490, in _make_request
    raise new_e
urllib3.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='ubuntu-zentao.orb.local', port=443): Max retries exceeded with url: /zentao/api.php/v1/users/lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/handlers/zentao_handler.py", line 46, in get_user_info
    response = self.request_with_auto_refresh("GET", url)
  File "/app/handlers/zentao_handler.py", line 35, in request_with_auto_refresh
    response = requests.request(method, url, headers=self.headers, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.8/site-packages/requests/adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='ubuntu-zentao.orb.local', port=443): Max retries exceeded with url: /zentao/api.php/v1/users/lisi (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1149)')))
2025-05-24 07:00:10,464 WARNING: Grafana user 'lisi' not found.
